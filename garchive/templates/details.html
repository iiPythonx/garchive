{% extends "base.html" %}
{% set localCSS = "css/details.css" %}
{% block content %}
    <h2>{{ data["name"] }}</h2>
    <hr>
    <div id="details">
        <div id="details-content">
            {% include "seasons/" + data["id"] + "/season.html" %}
            <div>
                <h3>Gallery</h3>
                <div id="details-gallery-images"></div>
                <div id="details-gallery-buttons">
                    <button onclick="galleryPrevious()"><span>←</span></button>
                    <span id="details-gallery-page"></span>
                    <button onclick="galleryNext()"><span>→</span></button>
                </div>
            </div>
        </div>
        <div id="details-info">
            <div>
                <h3>Description</h3>
                <p>{{ data["description"] }}</p>
            </div>
            <hr>
            <div>
                <h3>Members</h3>
                {% if data["members"] %}
                    <ul>
                        {% for member in data["members"] %}
                            <li><p>{{ member }}</p></li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>None</p>
                {% endif %}
            </div>
            <hr>
            <div>
                <h3>Start - End</h3>
                <p>{{ (data["start"] + " - " + (data["end"] or "Today")) if data["start"] else "N/A" }}</p>
            </div>
            <hr>
            <div>
                <h3>Status</h3>
                <p>{{ "Upcoming" if not data["start"] else ("Active" if not data["end"] else "Inactive") }}</p>
            </div>
            <hr>
            <div>
                <h3>Version</h3>
                <p>{{ data["version"] }}</p>
            </div>
            <hr>
            <div>
                <h3>Accomplishments</h3>
                {% if data["accomplishments"] %}
                    <ul>
                        {% for accomplishment in data["accomplishments"] %}
                        <li><p>{{ accomplishment }}</p></li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>None</p>
                {% endif %}
            </div>
            <hr>
            <div>
                <h3>Modifications</h3>
                {% if data["modifications"] %}
                    <ul>
                        {% for modification in data["modifications"] %}
                            <li>
                                <a href="{{ modification['url'] }}">{{ modification["name"] }} ({{ modification["type"] }})</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>Vanilla</p>
                {% endif %}
            </div>
            <hr>
            <div>
                <h3>World Download</h3>
                {% if data["download"] %}
                    <a href="/~/seasons/{{ data['id'] }}/download.zip" download="world.zip">Download</a>
                {% else %}
                    <p>Unavailable</p>
                {% endif %}
            </div>
        </div>
    </div>
    <script>
        let galleryImages = "{{ '|'.join(data['gallery']) }}".split("|");
        let galleryStatic = "/~/seasons/{{ data['id'] }}/gallery/";
    </script>
    <script src="/~/js/gallery.js"></script>
{% endblock %}